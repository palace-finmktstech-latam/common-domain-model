=====================================
STEP 4: TRADE WITH FLOATING RATE LEG
=====================================

What we're adding:
• Fixed leg: Bank A pays 5% on CLP 950B
• Floating leg: Goldman Sachs pays SOFR+100bps on USD 10M
• Both legs in same product (interest rate swap)

JSON Output:
=====================================
{
  "product" : {
    "identifier" : null,
    "taxonomy" : null,
    "economicTerms" : {
      "effectiveDate" : null,
      "terminationDate" : null,
      "dateAdjustments" : null,
      "payout" : [ {
        "assetPayout" : null,
        "commodityPayout" : null,
        "creditDefaultPayout" : null,
        "fixedPricePayout" : null,
        "interestRatePayout" : {
          "payerReceiver" : {
            "payer" : "PARTY_1",
            "receiver" : "PARTY_2",
            "type" : "cdm.base.staticdata.party.PayerReceiver"
          },
          "priceQuantity" : {
            "resolvedQuantity" : null,
            "quantitySchedule" : {
              "value" : {
                "value" : 9.5E+11,
                "unit" : {
                  "capacityUnit" : null,
                  "weatherUnit" : null,
                  "financialUnit" : null,
                  "currency" : {
                    "value" : "CLP",
                    "meta" : null,
                    "type" : "com.rosetta.model.metafields.FieldWithMetaString",
                    "valueType" : "java.lang.String"
                  },
                  "type" : "cdm.base.math.UnitType"
                },
                "datedValue" : null,
                "multiplier" : null,
                "frequency" : null,
                "type" : "cdm.base.math.NonNegativeQuantitySchedule"
              },
              "globalReference" : null,
              "externalReference" : null,
              "reference" : null,
              "type" : "cdm.base.math.metafields.ReferenceWithMetaNonNegativeQuantitySchedule",
              "valueType" : "cdm.base.math.NonNegativeQuantitySchedule"
            },
            "quantityReference" : null,
            "quantityMultiplier" : null,
            "reset" : null,
            "futureValueNotional" : null,
            "priceSchedule" : null,
            "meta" : null,
            "type" : "cdm.product.common.settlement.ResolvablePriceQuantity"
          },
          "principalPayment" : null,
          "settlementTerms" : null,
          "rateSpecification" : {
            "fixedRateSpecification" : {
              "rateSchedule" : {
                "price" : {
                  "value" : {
                    "value" : 0.05,
                    "unit" : null,
                    "datedValue" : null,
                    "perUnitOf" : null,
                    "priceType" : null,
                    "priceExpression" : null,
                    "composite" : null,
                    "arithmeticOperator" : null,
                    "cashPrice" : null,
                    "type" : "cdm.observable.asset.PriceSchedule"
                  },
                  "globalReference" : null,
                  "externalReference" : null,
                  "reference" : null,
                  "type" : "cdm.observable.asset.metafields.ReferenceWithMetaPriceSchedule",
                  "valueType" : "cdm.observable.asset.PriceSchedule"
                },
                "type" : "cdm.product.common.schedule.RateSchedule"
              },
              "meta" : null,
              "type" : "cdm.product.asset.FixedRateSpecification"
            },
            "floatingRateSpecification" : null,
            "inflationRateSpecification" : null,
            "type" : "cdm.product.asset.RateSpecification"
          },
          "dayCountFraction" : {
            "value" : "ACT_360",
            "meta" : null,
            "type" : "cdm.base.datetime.daycount.metafields.FieldWithMetaDayCountFractionEnum",
            "valueType" : "cdm.base.datetime.daycount.DayCountFractionEnum"
          },
          "calculationPeriodDates" : null,
          "paymentDates" : null,
          "paymentDate" : null,
          "paymentDelay" : null,
          "resetDates" : null,
          "discountingMethod" : null,
          "compoundingMethod" : null,
          "cashflowRepresentation" : null,
          "stubPeriod" : null,
          "bondReference" : null,
          "fixedAmount" : null,
          "floatingAmount" : null,
          "spreadCalculationMethod" : null,
          "type" : "cdm.product.asset.InterestRatePayout"
        },
        "optionPayout" : null,
        "performancePayout" : null,
        "settlementPayout" : null,
        "meta" : null,
        "type" : "cdm.product.template.Payout"
      }, {
        "assetPayout" : null,
        "commodityPayout" : null,
        "creditDefaultPayout" : null,
        "fixedPricePayout" : null,
        "interestRatePayout" : {
          "payerReceiver" : {
            "payer" : "PARTY_2",
            "receiver" : "PARTY_1",
            "type" : "cdm.base.staticdata.party.PayerReceiver"
          },
          "priceQuantity" : {
            "resolvedQuantity" : null,
            "quantitySchedule" : {
              "value" : {
                "value" : 1.0E+7,
                "unit" : {
                  "capacityUnit" : null,
                  "weatherUnit" : null,
                  "financialUnit" : null,
                  "currency" : {
                    "value" : "USD",
                    "meta" : null,
                    "type" : "com.rosetta.model.metafields.FieldWithMetaString",
                    "valueType" : "java.lang.String"
                  },
                  "type" : "cdm.base.math.UnitType"
                },
                "datedValue" : null,
                "multiplier" : null,
                "frequency" : null,
                "type" : "cdm.base.math.NonNegativeQuantitySchedule"
              },
              "globalReference" : null,
              "externalReference" : null,
              "reference" : null,
              "type" : "cdm.base.math.metafields.ReferenceWithMetaNonNegativeQuantitySchedule",
              "valueType" : "cdm.base.math.NonNegativeQuantitySchedule"
            },
            "quantityReference" : null,
            "quantityMultiplier" : null,
            "reset" : null,
            "futureValueNotional" : null,
            "priceSchedule" : null,
            "meta" : null,
            "type" : "cdm.product.common.settlement.ResolvablePriceQuantity"
          },
          "principalPayment" : null,
          "settlementTerms" : null,
          "rateSpecification" : {
            "fixedRateSpecification" : null,
            "floatingRateSpecification" : {
              "rateOption" : {
                "value" : {
                  "floatingRateIndex" : {
                    "identifier" : null,
                    "taxonomy" : null,
                    "isExchangeListed" : null,
                    "exchange" : null,
                    "relatedExchange" : null,
                    "name" : null,
                    "provider" : null,
                    "assetClass" : null,
                    "floatingRateIndex" : {
                      "value" : "USD_SOFR_COMPOUND",
                      "meta" : null,
                      "type" : "cdm.base.staticdata.asset.rates.metafields.FieldWithMetaFloatingRateIndexEnum",
                      "valueType" : "cdm.base.staticdata.asset.rates.FloatingRateIndexEnum"
                    },
                    "indexTenor" : {
                      "periodMultiplier" : 1,
                      "period" : "D",
                      "meta" : null,
                      "type" : "cdm.base.datetime.Period"
                    },
                    "type" : "cdm.observable.asset.FloatingRateIndex"
                  },
                  "inflationIndex" : null,
                  "type" : "cdm.observable.asset.InterestRateIndex"
                },
                "globalReference" : null,
                "externalReference" : null,
                "reference" : null,
                "type" : "cdm.observable.asset.metafields.ReferenceWithMetaInterestRateIndex",
                "valueType" : "cdm.observable.asset.InterestRateIndex"
              },
              "spreadSchedule" : {
                "price" : {
                  "value" : {
                    "value" : 0.01,
                    "unit" : null,
                    "datedValue" : null,
                    "perUnitOf" : null,
                    "priceType" : null,
                    "priceExpression" : null,
                    "composite" : null,
                    "arithmeticOperator" : null,
                    "cashPrice" : null,
                    "type" : "cdm.observable.asset.PriceSchedule"
                  },
                  "globalReference" : null,
                  "externalReference" : null,
                  "reference" : null,
                  "type" : "cdm.observable.asset.metafields.ReferenceWithMetaPriceSchedule",
                  "valueType" : "cdm.observable.asset.PriceSchedule"
                },
                "spreadScheduleType" : null,
                "type" : "cdm.product.asset.SpreadSchedule"
              },
              "capRateSchedule" : null,
              "floorRateSchedule" : null,
              "meta" : null,
              "floatingRateMultiplierSchedule" : null,
              "rateTreatment" : null,
              "calculationParameters" : null,
              "fallbackRate" : null,
              "initialRate" : null,
              "finalRateRounding" : null,
              "averagingMethod" : null,
              "negativeInterestRateTreatment" : null,
              "type" : "cdm.product.asset.FloatingRateSpecification"
            },
            "inflationRateSpecification" : null,
            "type" : "cdm.product.asset.RateSpecification"
          },
          "dayCountFraction" : {
            "value" : "ACT_360",
            "meta" : null,
            "type" : "cdm.base.datetime.daycount.metafields.FieldWithMetaDayCountFractionEnum",
            "valueType" : "cdm.base.datetime.daycount.DayCountFractionEnum"
          },
          "calculationPeriodDates" : null,
          "paymentDates" : null,
          "paymentDate" : null,
          "paymentDelay" : null,
          "resetDates" : null,
          "discountingMethod" : null,
          "compoundingMethod" : null,
          "cashflowRepresentation" : null,
          "stubPeriod" : null,
          "bondReference" : null,
          "fixedAmount" : null,
          "floatingAmount" : null,
          "spreadCalculationMethod" : null,
          "type" : "cdm.product.asset.InterestRatePayout"
        },
        "optionPayout" : null,
        "performancePayout" : null,
        "settlementPayout" : null,
        "meta" : null,
        "type" : "cdm.product.template.Payout"
      } ],
      "terminationProvision" : null,
      "calculationAgent" : null,
      "nonStandardisedTerms" : null,
      "collateral" : null,
      "type" : "cdm.product.template.EconomicTerms"
    },
    "meta" : null,
    "type" : "cdm.product.template.NonTransferableProduct"
  },
  "tradeLot" : null,
  "counterparty" : [ {
    "role" : "PARTY_1",
    "partyReference" : {
      "value" : {
        "partyId" : null,
        "name" : {
          "value" : "Bank A",
          "meta" : null,
          "type" : "com.rosetta.model.metafields.FieldWithMetaString",
          "valueType" : "java.lang.String"
        },
        "businessUnit" : null,
        "person" : null,
        "personRole" : null,
        "account" : null,
        "contactInformation" : null,
        "meta" : null,
        "type" : "cdm.base.staticdata.party.Party"
      },
      "globalReference" : null,
      "externalReference" : null,
      "reference" : null,
      "type" : "cdm.base.staticdata.party.metafields.ReferenceWithMetaParty",
      "valueType" : "cdm.base.staticdata.party.Party"
    },
    "type" : "cdm.base.staticdata.party.Counterparty"
  }, {
    "role" : "PARTY_2",
    "partyReference" : {
      "value" : {
        "partyId" : null,
        "name" : {
          "value" : "Goldman Sachs International",
          "meta" : null,
          "type" : "com.rosetta.model.metafields.FieldWithMetaString",
          "valueType" : "java.lang.String"
        },
        "businessUnit" : null,
        "person" : null,
        "personRole" : null,
        "account" : null,
        "contactInformation" : null,
        "meta" : null,
        "type" : "cdm.base.staticdata.party.Party"
      },
      "globalReference" : null,
      "externalReference" : null,
      "reference" : null,
      "type" : "cdm.base.staticdata.party.metafields.ReferenceWithMetaParty",
      "valueType" : "cdm.base.staticdata.party.Party"
    },
    "type" : "cdm.base.staticdata.party.Counterparty"
  } ],
  "ancillaryParty" : null,
  "adjustment" : null,
  "tradeIdentifier" : [ {
    "issuerReference" : null,
    "issuer" : null,
    "assignedIdentifier" : null,
    "meta" : null,
    "identifierType" : null,
    "type" : "cdm.event.common.TradeIdentifier"
  } ],
  "tradeDate" : {
    "value" : {
      "day" : 10,
      "month" : 9,
      "year" : 2025
    },
    "meta" : null,
    "type" : "com.rosetta.model.metafields.FieldWithMetaDate",
    "valueType" : "com.rosetta.model.lib.records.Date"
  },
  "tradeTime" : null,
  "party" : [ {
    "partyId" : null,
    "name" : {
      "value" : "Bank A",
      "meta" : null,
      "type" : "com.rosetta.model.metafields.FieldWithMetaString",
      "valueType" : "java.lang.String"
    },
    "businessUnit" : null,
    "person" : null,
    "personRole" : null,
    "account" : null,
    "contactInformation" : null,
    "meta" : null,
    "type" : "cdm.base.staticdata.party.Party"
  }, {
    "partyId" : null,
    "name" : {
      "value" : "Goldman Sachs International",
      "meta" : null,
      "type" : "com.rosetta.model.metafields.FieldWithMetaString",
      "valueType" : "java.lang.String"
    },
    "businessUnit" : null,
    "person" : null,
    "personRole" : null,
    "account" : null,
    "contactInformation" : null,
    "meta" : null,
    "type" : "cdm.base.staticdata.party.Party"
  } ],
  "partyRole" : null,
  "executionDetails" : null,
  "contractDetails" : null,
  "clearedDate" : null,
  "collateral" : null,
  "account" : null,
  "meta" : null,
  "type" : "cdm.event.common.Trade"
}
